{"title":"MOSAIC Library","markdown":{"yaml":{"author":"Jose Toledo Luna","title":"MOSAIC Library","toc":true,"date":"October 27, 2023"},"headingText":"Installation","containsRefs":false,"markdown":"\n\n\n```{r setup, include = FALSE}\nknitr::opts_chunk$set(\n  comment = \"#>\",\n  fig.width = 6,\n  fig.height = 4,\n  eval = TRUE\n)\n```\n\n```{=html}\n<style>\n  .vertical-space {\n    margin-bottom: 30px;\n  }\n</style>\n```\n\n\n\n\nThe goal of the `mosaic` package is to make effective computation accessible to university-level students at an introductory level\n\nThe following packages from the `mosaic suite` will be used throughout the labs.\n\n- `{mosaic}`\n  - `{mosaicCore}`\n  - `{mosaicData}`\n\nYou can the above packages by running the following command in the **Console**\n\n```{r, eval=FALSE}\ninstall.packages('mosaic')\n```\n\n\n:::callout-warning\nIf you are installing the package for the first time, please be aware that it might take some time since there are numerous dependencies that need to be installed beforehand (this is done automatically)\n:::\n\nYou can see the remaining packages part of the `mosaic suite` on the [Project MOSAIC Homepage](http://www.mosaic-web.org/R-packages.html), but they will not be used for this course\n\n::: vertical-space\n:::\n\n\nIf you have successfully installed `mosaic` package you should be able to run the command  `library(mosaic)` in the console without any errors. However, you will see the following *messages*\n\n\n```{r,message=FALSE,warning=FALSE}\n#| eval: true\n\nlibrary(mosaic) #<1>\n#> Registered S3 method overwritten by 'mosaic':\n#>   method                           from   \n#>   fortify.SpatialPolygonsDataFrame ggplot2\n#> \n#> The 'mosaic' package masks several functions from core packages in order to add \n#> additional features.  The original behavior of these functions should not be affected by this.  #<2>\n#> \n#> Attaching package: 'mosaic'\n#> The following objects are masked from 'package:dplyr':\n#>     count, do, tally\n#> The following object is masked from 'package:Matrix':\n#>     mean\n#> The following object is masked from 'package:ggplot2':\n#>     stat\n#> The following objects are masked from 'package:stats':\n#>     binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n#>     quantile, sd, t.test, var\n#>     \n#> The following objects are masked from 'package:base':\n#>     max, mean, min, prod, range, sample, sum\n```\n1. Make sure to load `mosiac` package first, you only have to do this once at the beginning of your script. Proceeding, this tutorial will assume you have loaded the `mosaic` package\n2. The output above are simply messages when initially starting up the package warning you about masking of functions with the same name as different packages\n\n\nFor example, the function `binom.test()` is used in two different packages `mosaic` and `stats`. If two packages use the same function name, then the package loaded last will hide the function from earlier packages. This is called **masking**\n\nWhile in general, the order of packages being loaded does not matter, if you are using multiple packages which have functions with the exact same name it is better to explicitly call the function name using `package_name::function`\n\n\n```{r,eval=FALSE}\nmosaic::binom.test()\nstats::binom.test()\n```\n\n\n:::vertical-space\n:::\n\n### Commonly used functions\n\nFor **numerical summaries**, the following functions are `mosaic` specific and will be used throughout the course\n\n\n- `tally()`: tabulate categorical data\n- `favstats()`: numerical summaries including: min, Q1, media, Q3, max, mean, sd, number of observations and missing values\n- `diffmean()`: difference in means\n- `prop()`: computes proportions for a single level\n- `perc()`: computes percents for a single level\n\n\nWhile the following functions are in base R, `MOSAIC` provides equivalent functions with a `formula interface`\n\n\n```{r,eval=FALSE}\nmosaic::mean()\nmosaic::median()\nmosaic::sd()\n```\n\nIf you are going to use say the function `mean` make sure to specify it is the `mosaic` version. For example, `mosaic::mean()`. If you want to know the differences between base R version \\newline \nrun `?base::mean()` or `?mosaic::mean()`\n\n\n**Randomization/Simulation**\n\nFor randomization or simulations procedures we will primarily use the following `mosaic` functions\n\n- `rflip()`: simulates coin tosses for individuals not yet familiarized with the binomial distribution or just like this syntax and verbosity better.\n- `do()`: provides a natural syntax for repetition tuned to assist with replication and resampling methods\n\n\nFor a quick overview of the basic of MOSAIC package, refer to [Minimal R for Intro Stats](https://cran.r-project.org/web/packages/mosaic/vignettes/MinimalRgg.pdf) tutorial. Note, we will not use all of the functions in the `mosaic` package\n\n\n## Examples\n\n### Numerical Summaries\n\nConsider the following vector containing various types of animals (mostly pets)\n\n```{r}\nanimals <- c(\"fish\", \"cat\",  \"fish\", \"cat\"  ,\"bird\" ,\"fish\" ,\"bird\" ,\n             \"bird\" ,\"dog\"  ,\"cat\"  ,\"dog\"  ,\"dog\"  ,\"cat\", \"dog\",  \n             \"dog\",  \"cat\",  \"bird\", \"cat\" , \"bird\", \"fish\")\n```\n\nloading the `mosaic` package and using the `tally()` function\n\n```{r}\ntally(animals)\n```\n\nwe can obtain the counts for each animal. By default `tally()` gives us counts, but we can also display the proportions using the `format` argument\n\n```{r}\ntally(animals, format = 'proportion')\n```\n\nwhich is more readable than using base R\n\n```{r}\nprop.table(table(animals))\n```\n\n\nReading the documentation `?mosaicCore::tally`, format can take one of the following types\n\n```{r,eval=FALSE}\nc(\"count\", \"proportion\", \"percent\", \"data.frame\", \"sparse\", \"default\")\n```\n\n\n```{r}\ntally(animals, format = 'percent')\n```\n\n\n### Simulation\n\n\nFor simulation the `do()` function from `mosaic` provides a natural syntax for repetition tuned to assist with replication and resampling methods. Consider the following example\n\n```{r}\ndo_hello <- do(3) * 'hello' #<1>\ndo_hello\n```\n1. Interpretation: write 'hello' three times\n\n\nWe are going to \"do\" the word three times `do(3)` using the operator `*` not to confuse with multiplication \n\n```{r}\nstr(do_hello)\n```\n\n`do` returns class `do.data.frame` and `data.frame` where each row is the output after performing the task after the `*` operator one time\n\n```{r}\ndo_hello$hello\n```\n\nIf you want to extract the values from the generated data.frame, we can use the `$` operator\n\n\nIn the next example, we are going to write the numbers `1:4` five times\n\n```{r}\ndo(5) * 1:4\n```\n\nagain the output will be a data.frame where each row is the numbers 1:4, you can think of each row as a replication of the desired task. In some way, it is similar to the base R approach of using `replicate`\n\n```{r}\nreplicate(n=5, 1:4)\n```\n\n\n\n\nAnother function from `mosaic` to consider is `rflip()`. The function `rflip`\nsimulates coin tosses, with heads as success and tails as failures.\n\n```{r}\ncoin_toss <- rflip(n=5) #<1>\ncoin_toss\n```\n1. Flip a fair coin five times\n\n\n```{r}\nstr(coin_toss)\n```\n\nThe output of `rflip` is a `cointoss` object, which displays the number of heads alongside the corresponding proportion of heads. We can change the probability of obtaining heads making the coin unfair. For example,\n\n```{r}\nrflip(n = 10, prob = 0.3) #<1>\n```\n1. Flip 10 coins, each with probability of 0.3 of landing on heads\n\n\nwe can summarize the above output and return a `data.frame` which we can extract information from \n\n```{r}\ncoin_toss_data <- rflip(n = 10, prob = 0.3, summarize = TRUE)\n```\n\n```{r,echo=FALSE}\ncoin_toss_data\n```\n\n```{r}\nstr(coin_toss_data)\n```\n\n\n:::vertical-space\n:::\n\n**Combining `do()` and `rflip()`**\n\nConsider the following example,\n\n```{r}\nresult <- do(2) * rflip(n=5) #<1>\nresult\n```\n1. Randomly flip a fair coin 5 times and replicate this procedure two times\n\n\nRecall the output after performing a `do()` statement will be a data.frame where each row is a replication of the procedure following the `*` operator. The first row shows the number of tosses, how many heads/tails where obtained and the corresponding proportion of heaads after `n` tosses\n\n```{r,echo=FALSE}\nstr(result)\n```\n\n\n\n\n\n\n\n\n\n\n\n","srcMarkdownNoYaml":"\n\n\n```{r setup, include = FALSE}\nknitr::opts_chunk$set(\n  comment = \"#>\",\n  fig.width = 6,\n  fig.height = 4,\n  eval = TRUE\n)\n```\n\n```{=html}\n<style>\n  .vertical-space {\n    margin-bottom: 30px;\n  }\n</style>\n```\n\n\n### Installation\n\n\nThe goal of the `mosaic` package is to make effective computation accessible to university-level students at an introductory level\n\nThe following packages from the `mosaic suite` will be used throughout the labs.\n\n- `{mosaic}`\n  - `{mosaicCore}`\n  - `{mosaicData}`\n\nYou can the above packages by running the following command in the **Console**\n\n```{r, eval=FALSE}\ninstall.packages('mosaic')\n```\n\n\n:::callout-warning\nIf you are installing the package for the first time, please be aware that it might take some time since there are numerous dependencies that need to be installed beforehand (this is done automatically)\n:::\n\nYou can see the remaining packages part of the `mosaic suite` on the [Project MOSAIC Homepage](http://www.mosaic-web.org/R-packages.html), but they will not be used for this course\n\n::: vertical-space\n:::\n\n\nIf you have successfully installed `mosaic` package you should be able to run the command  `library(mosaic)` in the console without any errors. However, you will see the following *messages*\n\n\n```{r,message=FALSE,warning=FALSE}\n#| eval: true\n\nlibrary(mosaic) #<1>\n#> Registered S3 method overwritten by 'mosaic':\n#>   method                           from   \n#>   fortify.SpatialPolygonsDataFrame ggplot2\n#> \n#> The 'mosaic' package masks several functions from core packages in order to add \n#> additional features.  The original behavior of these functions should not be affected by this.  #<2>\n#> \n#> Attaching package: 'mosaic'\n#> The following objects are masked from 'package:dplyr':\n#>     count, do, tally\n#> The following object is masked from 'package:Matrix':\n#>     mean\n#> The following object is masked from 'package:ggplot2':\n#>     stat\n#> The following objects are masked from 'package:stats':\n#>     binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n#>     quantile, sd, t.test, var\n#>     \n#> The following objects are masked from 'package:base':\n#>     max, mean, min, prod, range, sample, sum\n```\n1. Make sure to load `mosiac` package first, you only have to do this once at the beginning of your script. Proceeding, this tutorial will assume you have loaded the `mosaic` package\n2. The output above are simply messages when initially starting up the package warning you about masking of functions with the same name as different packages\n\n\nFor example, the function `binom.test()` is used in two different packages `mosaic` and `stats`. If two packages use the same function name, then the package loaded last will hide the function from earlier packages. This is called **masking**\n\nWhile in general, the order of packages being loaded does not matter, if you are using multiple packages which have functions with the exact same name it is better to explicitly call the function name using `package_name::function`\n\n\n```{r,eval=FALSE}\nmosaic::binom.test()\nstats::binom.test()\n```\n\n\n:::vertical-space\n:::\n\n### Commonly used functions\n\nFor **numerical summaries**, the following functions are `mosaic` specific and will be used throughout the course\n\n\n- `tally()`: tabulate categorical data\n- `favstats()`: numerical summaries including: min, Q1, media, Q3, max, mean, sd, number of observations and missing values\n- `diffmean()`: difference in means\n- `prop()`: computes proportions for a single level\n- `perc()`: computes percents for a single level\n\n\nWhile the following functions are in base R, `MOSAIC` provides equivalent functions with a `formula interface`\n\n\n```{r,eval=FALSE}\nmosaic::mean()\nmosaic::median()\nmosaic::sd()\n```\n\nIf you are going to use say the function `mean` make sure to specify it is the `mosaic` version. For example, `mosaic::mean()`. If you want to know the differences between base R version \\newline \nrun `?base::mean()` or `?mosaic::mean()`\n\n\n**Randomization/Simulation**\n\nFor randomization or simulations procedures we will primarily use the following `mosaic` functions\n\n- `rflip()`: simulates coin tosses for individuals not yet familiarized with the binomial distribution or just like this syntax and verbosity better.\n- `do()`: provides a natural syntax for repetition tuned to assist with replication and resampling methods\n\n\nFor a quick overview of the basic of MOSAIC package, refer to [Minimal R for Intro Stats](https://cran.r-project.org/web/packages/mosaic/vignettes/MinimalRgg.pdf) tutorial. Note, we will not use all of the functions in the `mosaic` package\n\n\n## Examples\n\n### Numerical Summaries\n\nConsider the following vector containing various types of animals (mostly pets)\n\n```{r}\nanimals <- c(\"fish\", \"cat\",  \"fish\", \"cat\"  ,\"bird\" ,\"fish\" ,\"bird\" ,\n             \"bird\" ,\"dog\"  ,\"cat\"  ,\"dog\"  ,\"dog\"  ,\"cat\", \"dog\",  \n             \"dog\",  \"cat\",  \"bird\", \"cat\" , \"bird\", \"fish\")\n```\n\nloading the `mosaic` package and using the `tally()` function\n\n```{r}\ntally(animals)\n```\n\nwe can obtain the counts for each animal. By default `tally()` gives us counts, but we can also display the proportions using the `format` argument\n\n```{r}\ntally(animals, format = 'proportion')\n```\n\nwhich is more readable than using base R\n\n```{r}\nprop.table(table(animals))\n```\n\n\nReading the documentation `?mosaicCore::tally`, format can take one of the following types\n\n```{r,eval=FALSE}\nc(\"count\", \"proportion\", \"percent\", \"data.frame\", \"sparse\", \"default\")\n```\n\n\n```{r}\ntally(animals, format = 'percent')\n```\n\n\n### Simulation\n\n\nFor simulation the `do()` function from `mosaic` provides a natural syntax for repetition tuned to assist with replication and resampling methods. Consider the following example\n\n```{r}\ndo_hello <- do(3) * 'hello' #<1>\ndo_hello\n```\n1. Interpretation: write 'hello' three times\n\n\nWe are going to \"do\" the word three times `do(3)` using the operator `*` not to confuse with multiplication \n\n```{r}\nstr(do_hello)\n```\n\n`do` returns class `do.data.frame` and `data.frame` where each row is the output after performing the task after the `*` operator one time\n\n```{r}\ndo_hello$hello\n```\n\nIf you want to extract the values from the generated data.frame, we can use the `$` operator\n\n\nIn the next example, we are going to write the numbers `1:4` five times\n\n```{r}\ndo(5) * 1:4\n```\n\nagain the output will be a data.frame where each row is the numbers 1:4, you can think of each row as a replication of the desired task. In some way, it is similar to the base R approach of using `replicate`\n\n```{r}\nreplicate(n=5, 1:4)\n```\n\n\n\n\nAnother function from `mosaic` to consider is `rflip()`. The function `rflip`\nsimulates coin tosses, with heads as success and tails as failures.\n\n```{r}\ncoin_toss <- rflip(n=5) #<1>\ncoin_toss\n```\n1. Flip a fair coin five times\n\n\n```{r}\nstr(coin_toss)\n```\n\nThe output of `rflip` is a `cointoss` object, which displays the number of heads alongside the corresponding proportion of heads. We can change the probability of obtaining heads making the coin unfair. For example,\n\n```{r}\nrflip(n = 10, prob = 0.3) #<1>\n```\n1. Flip 10 coins, each with probability of 0.3 of landing on heads\n\n\nwe can summarize the above output and return a `data.frame` which we can extract information from \n\n```{r}\ncoin_toss_data <- rflip(n = 10, prob = 0.3, summarize = TRUE)\n```\n\n```{r,echo=FALSE}\ncoin_toss_data\n```\n\n```{r}\nstr(coin_toss_data)\n```\n\n\n:::vertical-space\n:::\n\n**Combining `do()` and `rflip()`**\n\nConsider the following example,\n\n```{r}\nresult <- do(2) * rflip(n=5) #<1>\nresult\n```\n1. Randomly flip a fair coin 5 times and replicate this procedure two times\n\n\nRecall the output after performing a `do()` statement will be a data.frame where each row is a replication of the procedure following the `*` operator. The first row shows the number of tosses, how many heads/tails where obtained and the corresponding proportion of heaads after `n` tosses\n\n```{r,echo=FALSE}\nstr(result)\n```\n\n\n\n\n\n\n\n\n\n\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"message":false,"fig-align":"center","engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"scroll","code-link":true,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"reference-location":"document","output-file":"05-MOSAIC_basics.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.433","theme":["sandstone","../assets/styles.scss"],"published-title":"class date","code-summary":"","author":"Jose Toledo Luna","title":"MOSAIC Library","date":"October 27, 2023"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}